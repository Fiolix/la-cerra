<div id="profile-root" class="profile-root">
<div class="profile-header">
  <div class="profile-meta">
    <div class="profile-line"><span class="label">Username:</span> <span id="profile-username">—</span></div>
    <div class="profile-line"><span class="label">E-Mail:</span> <span id="profile-email">—</span></div>
    <div class="profile-line"><span class="label">User since:</span> <span id="profile-since">—</span></div>
  </div>
  <div class="profile-actions under-meta">
    <a href="#" id="link-change-password" class="text-link small">Change password</a>
    <a href="#" id="link-delete-account" class="text-link small danger">Delete account</a>
  </div>
</div>

<div id="profile-stats" class="profile-stats">
  <div class="stat-card">
    <div class="stat-value" id="tick-count">—</div>
    <div class="stat-label">Routes</div>
  </div>
  <div class="stat-card">
    <div class="stat-value" id="highest-grade">—</div>
    <div class="stat-label">Highest grade</div>
  </div>
  <div class="stat-card">
    <div class="stat-value" id="highest-flash">—</div>
    <div class="stat-label">Highest flash</div>
  </div>
</div>

  <!-- Ticklist-Bereich (Schritt 2: Filter & Anzeigeoptionen) -->
<section class="profile-ticklist">
  <!-- Bedienleiste -->
  <div id="ticklist-controls" class="ticklist-controls">
    <div class="controls-left">
      <label for="sector-filter" class="controls-label">Sector</label>
      <select id="sector-filter" class="controls-select">
        <!-- Optionen füllen wir per JS (Alle Sektoren + echte Sektoren) -->
      </select>
    </div>

    <div class="controls-right">
      <a href="#" id="display-options-toggle" class="text-link small">Display options</a>
      <div id="display-options-panel" class="display-panel" style="display:none;">
        <div class="display-row">
          <input type="checkbox" id="col-suggested" />
          <label for="col-suggested">Suggested grade</label>
        </div>
        <div class="display-row">
          <input type="checkbox" id="col-usermean" />
          <label for="col-usermean">User mean</label>
        </div>
        <div class="display-row">
          <input type="checkbox" id="col-date" />
          <label for="col-date">Date</label>
        </div>
        <!-- Route, Fb, Flash, Rating sind Standard und nicht abwählbar -->
      </div>
    </div>
  </div>

  <!-- Tabelle -->
  <div id="ticklist-table"></div>

    <!-- Pagination -->
  <div id="pagination-controls"></div>
</section>

<!-- ===== Modals: Password & Delete ===== -->

<!-- Change Password Modal -->
<div id="modal-password" class="modal" aria-hidden="true" style="display:none;">
  <div class="modal-backdrop" data-close="modal-password"></div>
  <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="modal-password-title">
    <button class="modal-close" data-close="modal-password" aria-label="Close">×</button>
    <h3 id="modal-password-title" class="modal-title">Change password</h3>

    <form id="form-password" class="modal-form" novalidate>
      <!-- Accessibility: verstecktes Username-Feld -->
      <input type="text" name="username" id="pw-username" autocomplete="username"
             style="position:absolute; left:-9999px; width:1px; height:1px; opacity:0; pointer-events:none;" />

      <div class="form-field">
        <label for="pw-current">Current password</label>
        <input id="pw-current" type="password" autocomplete="current-password" required />
      </div>
      <div class="form-field">
        <label for="pw-new">New password</label>
        <input id="pw-new" type="password" autocomplete="new-password" minlength="8" required />
      </div>
      <div class="form-field">
        <label for="pw-new2">Repeat new password</label>
        <input id="pw-new2" type="password" autocomplete="new-password" minlength="8" required />
      </div>

      <div class="modal-actions">
        <button type="submit" class="btn-primary">Save</button>
        <a href="#" class="text-link small" data-close="modal-password">Cancel</a>
      </div>

      <p id="pw-msg" class="form-note" aria-live="polite"></p>
    </form>
  </div>
</div>

<!-- Delete Account Modal -->
<div id="modal-delete" class="modal" aria-hidden="true" style="display:none;">
  <div class="modal-backdrop" data-close="modal-delete"></div>
  <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="modal-delete-title">
    <button class="modal-close" data-close="modal-delete" aria-label="Close">×</button>
    <h3 id="modal-delete-title" class="modal-title">Delete account</h3>

    <p class="modal-text">
      Are you sure you want to delete your account? This action cannot be undone.
    </p>

    <div class="modal-actions">
      <button id="btn-delete-confirm" class="btn-danger">Yes, delete my account</button>
      <a href="#" class="text-link small" data-close="modal-delete">Cancel</a>
    </div>

    <p id="del-msg" class="form-note" aria-live="polite"></p>
  </div>
</div>

</div> <!-- /#profile-root -->

